Box.define('Demo.window.index',{

    name:'窗口的实例',
    requires:[
          'Demo.window.indexDetail'

    ],
    extend:'Box.Component',

    templates: {
        main:[

              '<div style="margin-left: 50px;margin-top: 50px;">' +
              '<div class="col-md-4">' +
              '<button class="button k-button">Click here to open the window</button> '+
              '</div>' +
              '<div class="col-md-8">' +
                  '<button class="check k-button k-primary">查看源代码</button> '+
              '<div class="text" style="display:inline-block;width:100%;"></div>'+
              '</div>' +

              '</div>'
         ]
    },

    elements:{
        button: '.button',
        text: '.text',
        check:'.check'
    },

    events:{
        'click button': 'window',
        'click check': 'checkFile'
    },

    setup:function () {

    },

    window:function(){

        var index = new Demo.window.indexDetail();

    },
    checkFile: function () {
        var me=this;
        var myCodeMirror = CodeMirror(this.el.text[0],{
            // value: "function myScript(){return 100;}\n",
            mode:  "javascript",
            theme: 'dracula'//设置主题，先找到主题对应的CSS文件引入进来，再设置一下名字，再改一下样式
        });
        Box.require('text!app/window/indexDetail.js', function (text) {
            myCodeMirror.setValue(text)
        });
        this.el.check.attr('disabled','disabled');

    }


});